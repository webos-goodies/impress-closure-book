<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>テストページ</title>
  <!--
  <script type="text/javascript"
		  src="closure-library/closure/goog/base.js"></script>
  <script type="text/javascript">
	goog.require('goog.testing.AsyncTestCase');
	goog.require('goog.testing.jsunit');
	goog.require('goog.net.XhrIo');
  </script>
  -->
  <!-- 上記のgoog.require()をまとめたファイル -->
  <script type="text/javascript" src="built_test.js"></script>
</head>
<body>
  <script type="text/javascript">
	var asyncTestCase = goog.testing.AsyncTestCase.createAndInstall();

	function testXhrIo() {
	  asyncTestCase.waitForAsync('XhrIo');
	  goog.net.XhrIo.send('test.json', function(e) {
	    var xhr = e.target;
	    assertTrue('読み込み成功?', xhr.isSuccess());
	    var obj = xhr.getResponseJson();
	    assertNotNullNorUndefined('JSONレスポンス', obj);
	    asyncTestCase.continueTesting();
	  });
	}
  </script>
</body>
</html>
