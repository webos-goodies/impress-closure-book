<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>10章 サンプル</title>
  <!--
  <script type="text/javascript"
          src="closure-library/closure/goog/base.js"></script>
  -->
</head>

<body>

  <form id="form" action="#">
	<input type="text" size="80" id="message">
	<input type="submit" value="ログ出力">
  </form>

  <div id="log" style="height:200px;"></div>

  <input type="button" value="FancyWindowを開く" id="popup">

  <!--
  <script type="text/javascript">
	goog.require('goog.dom');
	goog.require('goog.events');
	goog.require('goog.debug.Logger');
	goog.require('goog.debug.DivConsole');
	goog.require('goog.debug.FancyWindow');
	goog.require('goog.debug.Console');
  </script>
  -->

  <!-- 上記のgoog.require()をまとめたファイル -->
  <script type="text/javascript" src="built.js"></script>

  <script type="text/javascript">
	var logview = new goog.debug.DivConsole(goog.dom.getElement('log'));
	logview.installStyles();
	logview.setCapturing(true);

	goog.debug.Console.autoInstall();
	goog.debug.Console.instance.setCapturing(true);

	var logger = goog.debug.Logger.getLogger('test_logger');

	goog.events.listen(goog.dom.getElement('popup'), goog.events.EventType.CLICK,
	  function(e) {
	    e.preventDefault();
	    var logview = new goog.debug.FancyWindow('logview');
	    logview.setEnabled(true);
	    logview.init();
      });

	goog.events.listen(goog.dom.getElement('form'), goog.events.EventType.SUBMIT,
	  function(e) {
	    e.preventDefault();
	    var el = goog.dom.getElement('message');
	    logger.warning(el.value);
	    el.value = '';
      });
  </script>

</body>
</html>
