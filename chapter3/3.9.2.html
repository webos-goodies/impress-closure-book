<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>3章 サンプル</title>
  <!--
  <script type="text/javascript" src="closure-library/closure/goog/base.js"></script>
  -->
</head>

<body>

<input type="button" value="ここをクリック!" id="button">
<input type="button" value="インスタンス削除" id="delete">

<!--
<script type="text/javascript">
  goog.require('goog.dom');
  goog.require('goog.events');
  goog.require('goog.events.EventHandler');
</script>
-->

<!-- 上記のgoog.require()をまとめたファイル -->
<script type="text/javascript" src="build.js"></script>

<script type="text/javascript">
function Button() {
  goog.base(this);
  this.eh_ = new goog.events.EventHandler(this);
  this.eh_.listen(goog.dom.getElement('button'),
    goog.events.EventType.CLICK, this.onClick);
  this.eh_.listen(goog.dom.getElement('delete'),
    goog.events.EventType.CLICK, this.onDelete);
}
goog.inherits(Button, goog.Disposable);

Button.prototype.disposeInternal = function() {
  goog.base(this, 'disposeInternal');
  this.eh_.dispose();
}

Button.prototype.onClick = function(e) { alert('クリックしたね?'); };
Button.prototype.onDelete = function(e) { this.dispose() };

new Button();
</script>

</body>
</html>
